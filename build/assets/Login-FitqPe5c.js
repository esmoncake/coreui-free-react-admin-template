import{r as i,_ as y,R as N,a as b,c as w,P as d,n as I,k as E,j as s}from"./index-Cq3cNOe4.js";import{b as S,c as R,a as T}from"./axios-Bl1vbFzL.js";import{b as L,c as p,a as U}from"./index.esm-BVbxNr3O.js";import{C as u,a as h}from"./CRow-CR1dTeP1.js";import{C as k,a as F}from"./CCardBody-BZy5Kcki.js";import{C as P}from"./CAlert-BYmA3n6A.js";import{C as x,a as C}from"./CInputGroupText-CwvrSR62.js";import{C as j}from"./CFormInput-CPK1Hc24.js";var m=i.forwardRef(function(e,c){var r=e.children,l=e.className,t=e.validated,o=y(e,["children","className","validated"]);return N.createElement("form",b({className:w({"was-validated":t},l)||void 0},o,{ref:c}),r)});m.propTypes={children:d.node,className:d.string,validated:d.bool};m.displayName="CForm";const J=()=>{const[e,c]=i.useState(""),[r,l]=i.useState(""),[t,o]=i.useState(""),f=I(),g=E(),v=async a=>{a.preventDefault();try{const n=await T.post("http://localhost:4000/login",{usuario:e,password:r});n.data.success?(g({type:"set",isAuthenticated:!0,userType:n.data.userType}),f("/dashboard")):o("Usuario o contraseña incorrectos.")}catch(n){console.error("Error during login:",n),o("Error al iniciar sesión. Inténtalo de nuevo más tarde.")}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(L,{children:s.jsx(u,{className:"justify-content-center",children:s.jsx(h,{md:6,lg:4,children:s.jsx(k,{className:"p-4",children:s.jsx(F,{children:s.jsxs(m,{onSubmit:v,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Inicia Sesión en tu Cuenta"}),t&&s.jsx(P,{color:"danger",children:t}),s.jsxs(x,{className:"mb-3",children:[s.jsx(C,{children:s.jsx(p,{icon:S})}),s.jsx(j,{placeholder:"Usuario",autoComplete:"username",value:e,onChange:a=>c(a.target.value)})]}),s.jsxs(x,{className:"mb-4",children:[s.jsx(C,{children:s.jsx(p,{icon:R})}),s.jsx(j,{type:"password",placeholder:"Contraseña",autoComplete:"current-password",value:r,onChange:a=>l(a.target.value)})]}),s.jsx(u,{children:s.jsx(h,{xs:6,children:s.jsx(U,{type:"submit",color:"primary",className:"px-4",children:"Iniciar"})})})]})})})})})})})};export{J as default};
